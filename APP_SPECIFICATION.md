# ながいぬのいる生活 - アプリケーション仕様書

**バージョン**: 1.0.0  
**最終更新日**: 2025年11月3日  
**ステータス**: アルファ版開発中  

---

## 📱 アプリ概要

### アプリ名
**正式名称**: ながいぬのいる生活  
**英語名**: LongDogLife  
**略称**: ながいき  

### コンセプト
「ながいぬ」という架空の生き物を育てるカジュアル育成ゲーム。ご飯をあげると体が伸びていく不思議な生き物との生活を楽しめる癒し系アプリ。サブゲーム「ご飯ランナー」で遊ぶこともできる。

### ターゲットユーザー
- **年齢層**: 10歳〜40歳
- **性別**: 問わず
- **嗜好**: 
  - 可愛い動物が好き
  - カジュアルゲームが好き
  - 癒しを求めている
  - スキマ時間に遊びたい

### ジャンル
- 育成シミュレーション
- カジュアルゲーム
- 癒し系

---

## 🎯 アプリの目的と目標

### ユーザー体験のゴール
1. **癒しの提供**: ながいぬとの触れ合いで日常の疲れを癒す
2. **達成感**: ながいぬを育てる喜びと成長を見る楽しさ
3. **手軽さ**: スキマ時間に気軽に遊べる
4. **継続性**: 毎日少しずつ遊びたくなる仕組み

### ビジネスゴール
- **Phase 1**: 1,000 DAU（デイリーアクティブユーザー）
- **Phase 2**: 10,000 DAU
- **Phase 3**: 収益化開始（広告またはアプリ内課金）

---

## 🎮 機能仕様

## 1. メイン画面：ながいぬ育成

### 1.1 画面構成

```
┌──────────────────────────────────┐
│  ながいぬのいる生活        🏃‍♂️  │ ← ヘッダー
├──────────────────────────────────┤
│                                  │
│   🐕───────────🦴               │ ← ながいぬ（横スクロール可能）
│                                  │
├──────────────────────────────────┤
│         ながいぬ                 │
│       長さ: 50cm                 │
│       機嫌: ごきげん             │
├──────────────────────────────────┤
│  [  🍖  ごはんをあげる  ]       │
│     残り 100/100回               │
│                                  │
│  [   🔄  リセット   ]           │
├──────────────────────────────────┤
│  今日のごはん: 0回               │
│  最後のごはん: まだ              │
├──────────────────────────────────┤
│  検証用: セグメント増加量        │
│  [ 1 ] [ 5 ] [10]               │
└──────────────────────────────────┘
```

### 1.2 ながいぬの表示

#### 基本構造
- **頭部**: 1個（固定）
- **胴体**: 可変（初期値1個、最大無制限）
- **尻尾**: 1個（固定）

#### 表情の種類
| 表情 | 表示条件 | 継続時間 |
|------|---------|----------|
| 通常 | デフォルト | - |
| 笑顔 | ご飯をあげた時、なでた時 | 1.5秒 |
| 悲しい | （現在未使用、将来的に使用予定） | - |

#### サイズ表示
- **計算式**: 50cm + (胴体セグメント数 - 1) × 1cm
- **初期値**: 50cm（胴体1個の状態）
- **例**: 
  - 胴体10個 → 59cm
  - 胴体100個 → 149cm
  - 胴体1000個 → 1049cm (10m以上！)

### 1.3 ご飯をあげる機能

#### 操作方法
1. 「ごはんをあげる」ボタンをタップ
2. ながいぬが笑顔になる
3. 体がニュッと伸びる（フェードアニメーション）
4. 統計が更新される

#### 動作詳細
- **消費**: 1回のご飯
- **効果**: 胴体が指定数増える（初期設定: 10セグメント）
- **アニメーション**: 0.3秒のフェード効果
- **上限**: 100回まで（残り0回で無効化）

#### 制約
- 残りご飯が0の場合は実行不可
- リセットするまで追加のご飯はあげられない

### 1.4 なでなで機能

#### 操作方法
1. ながいぬの頭部をタップ
2. ながいぬが笑顔になる
3. 「ワン！」と効果音が鳴る
4. 体がピカッと光る（フェードアニメーション）

#### 動作詳細
- **消費**: なし（何度でも可能）
- **効果**: 癒し（ゲーム的な効果はなし）
- **効果音**: happy_woof.mp3
- **クールダウン**: 実質的になし（アニメーション中は無反応）

#### 特徴
- サイレントモードでも音が鳴る（iOS）
- 多重タップ防止機能あり
- メモリリークを防ぐための音声リソース自動解放

### 1.5 リセット機能

#### 操作方法
1. 「リセット」ボタンをタップ
2. 確認なしで即座にリセット

#### リセット内容
- 胴体セグメント数 → 1
- ご飯回数 → 0
- 残りご飯 → 100
- 最後のごはん日時 → クリア
- 表情 → 通常

#### 注意事項
- **確認ダイアログなし**（将来的に追加予定）
- 元に戻す機能なし
- データ永続化未実装のため、アプリ再起動でも自動リセット

### 1.6 統計表示

#### 表示項目
| 項目 | 説明 | 初期値 |
|------|------|--------|
| 今日のごはん | 今日あげたご飯の回数 | 0回 |
| 最後のごはん | 最後にご飯をあげた日付 | まだ |

#### 日付のリセット
- 現在未実装（アプリ再起動でリセット）
- 将来的に日付をまたいだ時に自動リセット予定

### 1.7 検証用機能

#### セグメント増加量調整
**目的**: 開発・テスト用

**選択肢**:
- **1**: 1回で1セグメント増加（リアル育成モード）
- **5**: 1回で5セグメント増加（バランスモード）
- **10**: 1回で10セグメント増加（クイックモード、デフォルト）

**本番での扱い**:
- 削除または非表示にする予定
- またはゲーム設定として残す可能性あり

---

## 2. サブゲーム：ご飯ランナー

### 2.1 ゲーム概要

#### コンセプト
ながいぬを操作してご飯を集めるアクションゲーム。ご飯を食べるとスピードがアップしていき、どこまで速く動けるかに挑戦するゲーム。

#### ゲームの流れ
```
メイン画面 → 🏃‍♂️ボタン → スタート画面 → ゲームプレイ → ゲームオーバー
                ↑                                            ↓
                └────────────── もういっかい！ ←──────────────┘
```

### 2.2 画面構成

#### スタート画面
```
┌──────────────────────────────────┐
│ ← メインに戻る          スピード: 1│
├──────────────────────────────────┤
│                                  │
│        ご飯ランナー              │
│                                  │
│  スワイプで移動してご飯を集めよう！│
│                                  │
│      [ スタート ]                │
│                                  │
│   （背景: ゲーム画面が透けて見える）│
└──────────────────────────────────┘
```

#### ゲームプレイ画面
```
┌──────────────────────────────────┐
│ ← メインに戻る       スピード: 5 │
├──────────────────────────────────┤
│ ┌────────────────────────────┐  │
│ │ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │  │
│ │ ▓                          ▓ │  │
│ │ ▓  🍖        🐕            ▓ │  │
│ │ ▓                          ▓ │  │
│ │ ▓         🍖               ▓ │  │
│ │ ▓                          ▓ │  │
│ │ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │  │
│ └────────────────────────────┘  │
│                                  │
│      スワイプで移動              │
└──────────────────────────────────┘
```

#### ゲームオーバー画面
```
┌──────────────────────────────────┐
│ ← メインに戻る                   │
├──────────────────────────────────┤
│   （暗いオーバーレイ）           │
│                                  │
│      ゲームオーバー              │
│                                  │
│     最終スピード: 8              │
│                                  │
│    [ もういっかい！ ]           │
│                                  │
└──────────────────────────────────┘
```

### 2.3 ゲーム仕様

#### フィールド
- **サイズ**: 10列 × 15行（合計150マス）
- **1マスのサイズ**: 30px × 30px
- **全体サイズ**: 300px × 450px
- **背景色**: 芝生風の緑（#90EE90）
- **境界**: 茶色の枠（#228B22）

#### プレイヤー（ながいぬ）
- **構成**: 頭部のみ（1マス）
- **初期位置**: (x: 5, y: 7) - 中央やや下
- **初期方向**: 右
- **移動速度**: スピードレベルに応じて変化
- **表情**: 通常 → 笑顔（ご飯取得時） → 悲しい（ゲームオーバー時）

#### ご飯（アイテム）
- **表示**: 🍖絵文字
- **サイズ**: 1マス
- **配置**: ランダム（ながいぬと重ならない位置）
- **個数**: 常に1個（取得すると新しい位置に出現）

#### 操作方法
| 操作 | 動作 |
|------|------|
| 上スワイプ | 上方向に移動 |
| 下スワイプ | 下方向に移動 |
| 左スワイプ | 左方向に移動 |
| 右スワイプ | 右方向に移動 |

**スワイプの検出**:
- 閾値: 20px以上の移動
- 水平・垂直のうち大きい方向を採用
- スワイプ完了時に方向変更

### 2.4 ゲームルール

#### 勝利条件
- なし（エンドレス）
- できるだけ高いスピードレベルを目指す

#### 敗北条件
1. **壁への衝突**: フィールドの端に当たる
2. **自分への衝突**: （現在は頭のみなので発生しない）

#### スコアリング
- **スコアなし**: スピードレベルが実質的なスコア
- **初期スピードレベル**: 1
- **増加**: ご飯を1個取るごとに +1

### 2.5 スピードシステム

#### 速度計算
```
基本速度 = 200ms
速度増加量 = 15ms（レベルごと）
最低速度 = 50ms（上限）

実際の速度 = max(50, 200 - (スピードレベル - 1) × 15)
```

#### レベル別速度表
| スピードレベル | 移動間隔 | 1秒あたりの移動回数 |
|---------------|----------|---------------------|
| 1 | 200ms | 5.0回 |
| 2 | 185ms | 5.4回 |
| 3 | 170ms | 5.9回 |
| 4 | 155ms | 6.5回 |
| 5 | 140ms | 7.1回 |
| 6 | 125ms | 8.0回 |
| 7 | 110ms | 9.1回 |
| 8 | 95ms | 10.5回 |
| 9 | 80ms | 12.5回 |
| 10 | 65ms | 15.4回 |
| 11+ | 50ms | 20.0回（最速） |

#### 難易度曲線
- **レベル1-5**: 易しい（初心者向け）
- **レベル6-10**: 中程度（慣れてきた人向け）
- **レベル11+**: 難しい（上級者向け）

### 2.6 ゲームフロー

#### 1. ゲーム開始
```
1. メイン画面で 🏃‍♂️ ボタンをタップ
2. スタート画面が表示される
3. 「スタート」ボタンをタップ
4. ゲーム開始（ながいぬが動き始める）
```

#### 2. ゲームプレイ
```
1. ながいぬが自動的に移動
2. プレイヤーがスワイプで方向変更
3. ご飯を取得
   → スピードレベル +1
   → ながいぬが笑顔に（1.5秒）
   → フェードアニメーション
   → 効果音（現在無効化中）
   → 新しいご飯が出現
4. 2-3を繰り返す
```

#### 3. ゲームオーバー
```
1. 壁に衝突
2. ゲーム停止
3. ながいぬが悲しい顔に
4. ゲームオーバー画面表示
   - 最終スピードレベル表示
   - 「もういっかい！」ボタン表示
```

#### 4. リスタート
```
1. 「もういっかい！」ボタンをタップ
2. スタート画面に戻る
3. 初期状態にリセット
   - ながいぬ位置: (5, 7)
   - 方向: 右
   - スピードレベル: 1
   - 表情: 通常
4. 「スタート」ボタンで再開可能
```

### 2.7 ビジュアル・サウンド

#### ビジュアルエフェクト
| イベント | エフェクト |
|---------|-----------|
| ご飯取得 | フェード（opacity: 1.0 → 0.8 → 1.0、300ms） |
| ゲームオーバー | 画面全体に暗いオーバーレイ（rgba(0,0,0,0.7)） |
| スタート画面 | 画面全体に暗いオーバーレイ（rgba(0,0,0,0.7)） |

#### サウンドエフェクト
| イベント | 効果音 | 状態 |
|---------|--------|------|
| ご飯取得 | happy_woof.mp3 | ⚠️ 一時無効化中 |
| ゲームオーバー | なし | - |

**無効化理由**: 開発中の安定性確保のため

### 2.8 UI要素

#### ボタン
| ボタン | 位置 | 表示条件 | 動作 |
|--------|------|---------|------|
| ← メインに戻る | 左上 | 常時 | メイン画面に戻る |
| スタート | 中央 | ready状態 | ゲーム開始 |
| もういっかい！ | 中央 | gameOver状態 | リスタート |

#### 情報表示
| 項目 | 位置 | 表示内容 |
|------|------|---------|
| スピードレベル | 右上 | 「スピード: X」 |
| 操作説明 | 下部 | 「スワイプで移動」（playing時のみ） |
| ゲームタイトル | 中央 | 「ご飯ランナー」（ready時のみ） |
| 説明文 | 中央 | 「スワイプで移動してご飯を集めよう！」（ready時のみ） |
| 最終スコア | 中央 | 「最終スピード: X」（gameOver時のみ） |

---

## 3. ナビゲーション

### 3.1 画面遷移図

```
        アプリ起動
            ↓
      ┌──────────┐
      │メイン画面│ ←─────────┐
      └──────────┘           │
            ↓ 🏃‍♂️           │
      ┌──────────┐           │
      │スタート画│           │
      │   面     │           │
      └──────────┘           │
            ↓ スタート         │
      ┌──────────┐           │
      │ゲームプレ│           │
      │  イ画面  │           │
      └──────────┘           │
            ↓ 衝突           │
      ┌──────────┐           │
      │ゲームオー│           │
      │  バー画面│           │
      └──────────┘           │
            ↓ もういっかい    │
      ┌──────────┐           │
      │スタート画│           │
      │   面     │           │
      └──────────┘           │
            │                │
            └─ ← メインに戻る ┘
```

### 3.2 状態管理

#### アプリレベルの状態
```typescript
type AppMode = 'main' | 'foodRunner';

初期値: 'main'
```

#### ゲーム状態（ご飯ランナー内）
```typescript
type GameState = 'ready' | 'playing' | 'gameOver' | 'paused';

初期値: 'ready'
状態遷移: ready → playing → gameOver → ready
```

---

## 4. データ仕様

### 4.1 現在のデータ管理

#### 保存方法
- **メイン画面**: React state（永続化なし）
- **サブゲーム**: React state（永続化なし）

#### データの消失
- アプリ終了時
- アプリ削除時
- リセット実行時

### 4.2 将来的なデータ構造

```typescript
interface UserData {
  // ユーザーID
  userId: string;
  createdAt: string;  // ISO 8601形式
  lastPlayedAt: string;
  
  // メイン画面データ
  mainScreen: {
    bodyCount: number;          // 胴体セグメント数
    feedCount: number;          // ご飯をあげた累計回数
    remainingFeeds: number;     // 残りご飯回数
    lastFeedDate: string | null;// 最後のご飯日時
    totalPetCount: number;      // なでなでした累計回数
    totalPlayTime: number;      // 累計プレイ時間（秒）
  };
  
  // サブゲーム（ご飯ランナー）データ
  foodRunner: {
    highScore: number;          // ハイスコア（最高スピードレベル）
    totalGamesPlayed: number;   // プレイ回数
    totalFoodCollected: number; // 累計ご飯取得数
    averageScore: number;       // 平均スコア
    bestTime: number;           // 最長プレイ時間（秒）
  };
  
  // 設定
  settings: {
    soundEnabled: boolean;      // 効果音
    vibrationEnabled: boolean;  // バイブレーション
    language: string;           // 言語（ja/en）
  };
  
  // 実績（将来実装）
  achievements: {
    id: string;
    unlockedAt: string;
  }[];
}
```

---

## 5. UI/UXデザイン

### 5.1 デザインコンセプト

#### テーマ
- **カラー**: 明るく優しい色合い
- **雰囲気**: 癒し系、ほのぼの
- **スタイル**: フラットデザイン、ミニマル

#### カラーパレット
| 色名 | カラーコード | 用途 |
|------|------------|------|
| スカイブルー | #87CEEB | メイン背景 |
| グリーン | #90EE90 | ゲーム背景 |
| ゴールド | #FFD700 | メインボタン |
| レッド | #FF6B6B | リセット/戻るボタン |
| グリーン | #4CAF50 | スタートボタン |
| ホワイト | #FFFFFF | テキスト（暗い背景上） |
| ダークグレー | #333333 | テキスト（明るい背景上） |

### 5.2 タイポグラフィ

#### フォントサイズ
| 要素 | サイズ | 用途 |
|------|--------|------|
| タイトル | 36px | ゲームタイトル |
| 大見出し | 32px | ゲームオーバー |
| 見出し | 24px | 画面タイトル、最終スコア |
| 本文（大） | 20px | ボタンテキスト |
| 本文 | 18px | 統計情報 |
| 本文（小） | 16px | 説明文 |
| キャプション | 14px | 補助情報 |

#### フォントウェイト
- **bold**: タイトル、ボタン
- **500（medium）**: 本文
- **normal**: キャプション

### 5.3 レイアウト原則

#### 余白
- **画面端**: 20px
- **要素間（大）**: 30px
- **要素間（中）**: 20px
- **要素間（小）**: 10px

#### ボタンデザイン
```
サイズ: 
- 横幅: 80%（中央揃え）
- 高さ: 50px（タップしやすいサイズ）

デザイン:
- 角丸: 25px（完全な楕円形）
- シャドウ: あり（elevation: 5）
- アニメーション: タップ時にフィードバック
```

### 5.4 アクセシビリティ

#### 現状
- ⚠️ 未対応（将来実装予定）

#### 計画
- [ ] VoiceOver / TalkBack 対応
- [ ] コントラスト比 WCAG AA レベル以上
- [ ] タップターゲットサイズ 44×44pt 以上
- [ ] 色覚対応（色だけに依存しない情報伝達）

---

## 6. パフォーマンス要件

### 6.1 起動時間
- **目標**: 3秒以内
- **現状**: 測定中

### 6.2 フレームレート
- **目標**: 60 FPS
- **最低**: 30 FPS（ゲームプレイ時）

### 6.3 メモリ使用量
- **目標**: 100 MB以下
- **最大**: 150 MB

### 6.4 バッテリー消費
- **目標**: 1時間のプレイで10%以下

---

## 7. 対応環境

### 7.1 iOS

#### 対応バージョン
- **最低**: iOS 13.0
- **推奨**: iOS 15.0以上
- **テスト済み**: iOS 18.1（iPhone 16 Pro シミュレーター）

#### 対応デバイス
- iPhone SE (3rd generation)以降
- iPad対応（将来実装）

### 7.2 Android

#### 対応バージョン
- **最低**: Android 8.0（API Level 26）
- **推奨**: Android 11以上
- **テスト済み**: 未テスト

#### 対応デバイス
- 画面サイズ: 5インチ〜6.7インチ
- RAM: 2GB以上推奨

---

## 8. 制約と前提条件

### 8.1 技術的制約

#### 現在の制約
1. **データ永続化なし**: アプリ終了でデータ消失
2. **オフライン専用**: ネットワーク機能なし
3. **音声一部無効**: サブゲームの効果音が無効化中
4. **iOS専用**: Android未テスト
5. **日本語のみ**: 多言語対応なし

### 8.2 ビジネス的前提

#### 収益化
- **Phase 1**: 完全無料（広告なし）
- **Phase 2**: 広告導入を検討
- **Phase 3**: アプリ内課金を検討

#### リリース計画
1. **アルファ版**: 機能実装完了
2. **ベータ版**: テスター10-20人で検証
3. **正式版**: App Store公開

---

## 9. 将来の拡張計画

### 9.1 短期（1-3ヶ月）

#### 必須機能
- [ ] データ永続化（AsyncStorage）
- [ ] サブゲームの効果音有効化
- [ ] Android対応
- [ ] ハイスコア表示

#### 推奨機能
- [ ] 設定画面（音声ON/OFF等）
- [ ] チュートリアル
- [ ] 実績システム（基本版）

### 9.2 中期（3-6ヶ月）

#### 新機能
- [ ] 新しいミニゲーム追加
- [ ] ながいぬのカスタマイズ（色、模様）
- [ ] 背景のバリエーション
- [ ] アニメーション強化

#### コミュニティ
- [ ] スコアシェア機能（SNS）
- [ ] リーダーボード（ローカル）

### 9.3 長期（6ヶ月以上）

#### プラットフォーム展開
- [ ] Web版（React Native Web）
- [ ] タブレット最適化
- [ ] Apple Watch対応

#### ソーシャル機能
- [ ] オンラインリーダーボード
- [ ] フレンド機能
- [ ] 対戦モード

#### 収益化
- [ ] 広告表示
- [ ] アプリ内課金
- [ ] プレミアム版

---

## 10. ユーザーストーリー

### 10.1 メインユースケース

#### ストーリー1: 初めてのプレイ
```
ユーザー: 会社員の佐藤さん（28歳女性）
シーン: 通勤電車の中

1. App Storeから「ながいぬのいる生活」をダウンロード
2. アプリを開くと、可愛いながいぬが表示される
3. 「ごはんをあげる」ボタンを試しにタップ
4. ながいぬが笑顔になって伸びる → 「かわいい！」
5. もう一度タップ → さらに伸びる
6. ながいぬの頭をタップ → 「ワン！」と鳴いて笑顔に
7. 何度も遊んでいるうちに、ながいぬがどんどん長くなる
8. 駅に着いたのでアプリを閉じる

結果: 手軽に楽しめて癒された。また遊びたいと思う。
```

#### ストーリー2: サブゲームに挑戦
```
ユーザー: 大学生の田中さん（21歳男性）
シーン: 授業の空き時間

1. アプリを開いてながいぬにご飯をあげる
2. 右上の 🏃‍♂️ ボタンに気づく → タップ
3. 「ご飯ランナー」というゲームが始まる
4. 「スタート」ボタンをタップしてゲーム開始
5. スワイプでながいぬを操作してご飯を集める
6. スピードがどんどん速くなって難しくなる
7. 壁にぶつかってゲームオーバー
8. 「もういっかい！」で何度も挑戦
9. 最高スピードレベル8を達成
10. メイン画面に戻る

結果: シンプルだけど奥が深い。もっと高スコアを目指したい。
```

#### ストーリー3: 毎日の癒し
```
ユーザー: 主婦の山田さん（35歳女性）
シーン: 家事の合間

1. 朝、アプリを開いてながいぬにご飯をあげる
2. ながいぬがニョキニョキ伸びるのを見て癒される
3. 昼、また開いてなでなでする
4. 「ワン！」という声に癒される
5. 夜、寝る前に最後にご飯をあげる
6. 1日で残りご飯が大分減った
7. 「明日も楽しみ」と思いながら就寝

結果: 日常のちょっとした楽しみになった。
```

### 10.2 エッジケース

#### ケース1: ご飯を使い切った
```
状況: 100回分のご飯を全て使い切った

1. 「ごはんをあげる」ボタンがグレーアウト
2. 「残り 0/100回」と表示
3. ボタンをタップしても反応しない
4. リセットボタンを押すことで再開可能

改善案: 「ご飯を追加」機能（将来実装）
```

#### ケース2: ながいぬが超長い
```
状況: ご飯を50回あげて、胴体が500セグメントに

1. ながいぬが画面に収まらない
2. 横スクロールで全体を確認
3. スクロールが楽しい
4. 「もっと長くしたい」と思う

問題: パフォーマンスの懸念（将来対策が必要）
```

#### ケース3: ゲームが速すぎる
```
状況: スピードレベル11以上（50ms間隔）

1. ながいぬの動きが非常に速い
2. 反応が追いつかない
3. すぐに壁に衝突
4. 「難しすぎる」と感じる

調整案: 速度曲線の見直し（テストフィードバックによる）
```

---

## 11. 成功指標（KPI）

### 11.1 ユーザー獲得
| 指標 | Phase 1 | Phase 2 | Phase 3 |
|------|---------|---------|---------|
| 総ダウンロード数 | 100 | 1,000 | 10,000 |
| DAU | 10 | 100 | 1,000 |
| MAU | 50 | 500 | 5,000 |

### 11.2 エンゲージメント
| 指標 | 目標値 |
|------|--------|
| 1日あたりの平均セッション数 | 3回以上 |
| 1セッションの平均時間 | 3分以上 |
| 継続率（Day 1） | 40%以上 |
| 継続率（Day 7） | 20%以上 |
| 継続率（Day 30） | 10%以上 |

### 11.3 ゲームプレイ
| 指標 | 目標値 |
|------|--------|
| ご飯ランナーのプレイ率 | 60%以上（DAUの内） |
| ご飯ランナーの平均プレイ回数 | 5回/セッション |
| ご飯ランナーの平均スコア | レベル5 |
| なでなでの利用率 | 80%以上（DAUの内） |

### 11.4 満足度
| 指標 | 目標値 |
|------|--------|
| App Store評価 | 4.5以上 |
| レビュー数 | ダウンロード数の5% |
| 肯定的レビューの割合 | 80%以上 |

---

## 12. リスクと対応策

### 12.1 技術的リスク

#### リスク1: パフォーマンス低下
**発生条件**: ながいぬが極端に長くなった時

**影響**: 
- アプリの動作が遅くなる
- フレームレートの低下
- ユーザー体験の悪化

**対応策**:
1. 最大セグメント数の制限（例: 1000個）
2. レンダリングの最適化（仮想化）
3. パフォーマンステストの実施

#### リスク2: メモリリーク
**発生条件**: 音声リソースの不適切な管理

**影響**:
- メモリ使用量の増加
- アプリのクラッシュ

**対応策**:
1. リソースの適切な解放（実装済み）
2. メモリ監視ツールの使用
3. 定期的なプロファイリング

### 12.2 ビジネスリスク

#### リスク1: ユーザー獲得の失敗
**発生条件**: マーケティング不足、差別化不足

**影響**:
- ダウンロード数が伸びない
- DAUが増えない

**対応策**:
1. App Store最適化（ASO）
2. SNSでのプロモーション
3. インフルエンサーへのアプローチ
4. プレスリリース

#### リスク2: 継続率の低下
**発生条件**: コンテンツ不足、飽きやすい

**影響**:
- DAUの減少
- 評価の低下

**対応策**:
1. 定期的なアップデート
2. 新機能の追加
3. イベントの実施
4. ユーザーフィードバックの反映

### 12.3 運用リスク

#### リスク1: サポート対応の負荷
**発生条件**: バグ報告、問い合わせの増加

**影響**:
- 対応工数の増加
- ユーザー満足度の低下

**対応策**:
1. FAQの充実
2. 自動応答システムの導入
3. コミュニティフォーラムの活用

#### リスク2: App Storeの審査落ち
**発生条件**: ガイドライン違反

**影響**:
- リリースの遅延
- 修正工数の発生

**対応策**:
1. ガイドラインの事前確認
2. 審査前のセルフチェック
3. テスト版での検証

---

## 13. FAQ（よくある質問）

### 13.1 ユーザー向けFAQ

#### Q1: データが消えてしまいました
**A**: 現在、データはアプリ内にのみ保存されています。アプリを削除したり、端末を変更するとデータは消去されます。今後のアップデートでバックアップ機能を追加予定です。

#### Q2: ご飯が0になってしまいました
**A**: 「リセット」ボタンを押すと、ご飯の回数が100回に戻ります。ただし、ながいぬの長さもリセットされますのでご注意ください。

#### Q3: ご飯ランナーが難しすぎます
**A**: 最初はゆっくりですが、ご飯を取るとどんどん速くなります。慣れるまで何度も挑戦してみてください。スピードレベル5を超えられれば上級者です！

#### Q4: 音が出ません
**A**: 
1. デバイスのサイレントモードを確認してください
2. アプリの設定で音声がONになっているか確認してください（将来実装）
3. デバイスを再起動してみてください

#### Q5: Android版はありますか？
**A**: 現在開発中です。iOS版のリリース後、Android版も公開予定です。

### 13.2 開発者向けFAQ

#### Q1: React Nativeのバージョンは？
**A**: 0.81.4を使用しています。Bare workflowです。

#### Q2: Expoは使っていますか？
**A**: 一部のモジュール（expo-av、expo-asset等）を使用していますが、Managed workflowではありません。

#### Q3: 状態管理は何を使っていますか？
**A**: 現在はReactのuseStateとuseContextのみです。将来的にReduxやZustandの導入を検討しています。

#### Q4: テストは書いていますか？
**A**: 現在は未実装です。優先的に実装予定です。

#### Q5: CI/CDは構築していますか？
**A**: 現在は未構築です。GitHubActionsでの自動ビルドを検討しています。

---

## 14. 用語集

| 用語 | 説明 |
|------|------|
| ながいぬ | このアプリの主人公。ご飯をあげると体が伸びる不思議な生き物 |
| セグメント | ながいぬの体を構成する1つの部品。胴体部分 |
| ご飯ランナー | サブゲームの名称。ながいぬを操作してご飯を集めるゲーム |
| スピードレベル | ご飯ランナーでの実質的なスコア。ご飯を取ると上がる |
| DAU | Daily Active Users（デイリーアクティブユーザー数） |
| MAU | Monthly Active Users（マンスリーアクティブユーザー数） |
| ASO | App Store Optimization（アプリストア最適化） |
| KPI | Key Performance Indicator（重要業績評価指標） |

---

## 15. 変更履歴

| バージョン | 日付 | 変更内容 | 担当者 |
|-----------|------|---------|--------|
| 1.0.0 | 2025-11-03 | 初版作成 | AI Assistant |
| - | - | - | - |

---

## 16. 承認

| 役割 | 氏名 | 承認日 | 署名 |
|------|------|--------|------|
| プロダクトオーナー | - | - | - |
| 開発リード | - | - | - |
| デザインリード | - | - | - |

---

**Document Status**: Draft  
**Next Review Date**: 2025-11-10  
**Document Owner**: Enter  

---

*このドキュメントは開発の進行に合わせて随時更新されます。*
